(this["webpackJsonpsuperheros-front"]=this["webpackJsonpsuperheros-front"]||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),i=a(27),o=a(12),u=a(66),l=a.n(u),p=a(2);function d(e){var t=e.children;return Object(p.jsx)("div",{className:l.a.container,children:t})}var h=a(14),m=a.n(h),j=a(22),b=a(11),O=a(40),f=a.n(O),x="https://app-superheros.herokuapp.com/api";function _(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x,e.next=3,f.a.get("".concat(a,"/superheros?page=").concat(t,"&limit=5"));case 3:return n=e.sent,e.abrupt("return",n.data.superheros);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=Object(j.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x,e.next=3,f.a.get("".concat(a,"/superheros/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x,e.next=3,f.a.post("".concat(a,"/superheros"),t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return N.apply(this,arguments)}function N(){return(N=Object(j.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=x,e.next=3,f.a.delete("".concat(a,"/superheros/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=x,e.next=3,f.a.put("".concat(n,"/superheros/").concat(t),a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(e){var t=e.onClick,a=e.text;return Object(p.jsx)("button",{type:"button",className:"Button",onClick:t,children:a})},F=a(156),T=a(154),D=a(23),B=a.n(D),P=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),i=Object(b.a)(c,2),o=i[0],u=i[1],l=Object(n.useState)(""),d=Object(b.a)(l,2),h=d[0],O=d[1],f=Object(n.useState)(""),x=Object(b.a)(f,2),_=x[0],v=x[1],g=Object(n.useState)(""),w=Object(b.a)(g,2),S=w[0],y=w[1],N=Object(n.useState)(null),M=Object(b.a)(N,2),C=M[0],E=M[1],D=""===r;Object(n.useEffect)((function(){return window.addEventListener("keydown",I),function(){window.removeEventListener("keydown",I)}}),[]);var P=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"nickname":s(n);break;case"real_name":u(n);break;case"origin_description":O(n);break;case"superpowers":v(n);break;case"catch_phrase":y(n);break;case"images":E(e.target.files)}},I=function(t){"Escape"===t.code&&e.closeModal()},L=function(){var t=Object(j.a)(m.a.mark((function t(a){var n,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={nickname:r,real_name:o,origin_description:h,superpowers:_,catch_phrase:S},s=new FormData,Object.keys(n).forEach((function(e){return s.append(e,n[e])})),C&&Object.keys(C).forEach((function(e){return s.append("images",C[e],e.name)})),t.next=7,k(s);case 7:201===t.sent.status&&e.closeModal("sended");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)("div",{className:B.a.Overlay,onClick:function(t){t.target===t.currentTarget&&e.closeModal()},children:Object(p.jsx)("div",{className:B.a.Modal,children:Object(p.jsxs)("form",{encType:"multipart/form-data",className:B.a.Form,onSubmit:L,noValidate:!0,autoComplete:"off",children:[Object(p.jsx)(F.a,{className:B.a.TextField,onChange:P,autoFocus:!0,required:!0,name:"nickname",type:"text",value:r,size:"small",label:"Nickname",variant:"outlined"}),Object(p.jsx)(F.a,{className:B.a.TextField,onChange:P,name:"real_name",type:"text",value:o,size:"small",label:"RealName",variant:"outlined"}),Object(p.jsx)(F.a,{className:B.a.TextField,onChange:P,multiline:!0,name:"origin_description",type:"text",value:h,size:"small",label:"Origin Description",variant:"outlined"}),Object(p.jsx)(F.a,{className:B.a.TextField,onChange:P,multiline:!0,name:"superpowers",type:"text",value:_,size:"small",label:"Superpowers",variant:"outlined"}),Object(p.jsx)(F.a,{className:B.a.TextField,onChange:P,multiline:!0,name:"catch_phrase",type:"text",value:S,size:"small",label:"Catch Phrase",variant:"outlined"}),Object(p.jsx)("input",{className:B.a.fileInput,type:"file",name:"images",accept:"image/*",multiple:!0,onChange:P}),Object(p.jsx)(T.a,{className:B.a.submitButton,disabled:D,type:"submit",size:"small",variant:"contained",children:"Add Superhero"})]})})})},I=a(155),L=a(74),z=a.n(L),V=a(71),H=a.n(V),A=a(72),R=a.n(A);var K=function(e){var t=e.itemsPerPage,a=e.totalDocs,r=e.requestedPage,s=Object(n.useState)(0),c=Object(b.a)(s,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){o(Math.ceil(a/t))}),[a,t]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(H.a,{className:R.a.pagination,breakLabel:"...",nextLabel:"next >",onPageChange:function(e){var t=e.selected+1;r(t)},pageRangeDisplayed:5,pageCount:i,previousLabel:"< previous",renderOnZeroPageCount:null})})},J=a(33),Y=a.n(J),q=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],s=Object(o.g)(),c=Object(n.useState)(!1),u=Object(b.a)(c,2),l=u[0],d=u[1],h=Object(n.useState)(1),O=Object(b.a)(h,2),f=O[0],x=O[1],v=Object(n.useState)(),g=Object(b.a)(v,2),w=g[0],k=g[1];Object(n.useEffect)((function(){_(f).then((function(e){r(e.docs),k(e.totalDocs),x(e.page)}))}),[f,w]);var S=function(){var e=Object(j.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:"Superhero removed"===e.sent.message&&_(f).then((function(e){r(e.docs),k(e.totalDocs)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:Y.a.superherosSection,children:[Object(p.jsx)(E,{onClick:function(){d(!0)},text:"Add Superhero"}),l&&Object(p.jsx)(P,{closeModal:function(e){d(!1),e&&_(f).then((function(e){r(e.docs),k(e.totalDocs)}))}}),Object(p.jsx)("ul",{className:Y.a.superherosList,children:a&&a.map((function(e){var t=e._id,a=e.nickname,n=e.images;return Object(p.jsxs)("li",{children:[0!==n.length?Object(p.jsx)(i.b,{className:Y.a.superherosImage,to:{pathname:"/superheros/".concat(t),state:{from:s}},children:Object(p.jsx)("img",{src:n[0],alt:a,height:"60px"})}):Object(p.jsx)(i.b,{className:Y.a.superherosImage,to:{pathname:"/superheros/".concat(t),state:{from:s}},children:Object(p.jsx)("img",{src:"https://www.samatters.com/wp-content/uploads/2017/04/Super-Hero-300x286.png",alt:a,height:"60px"})}),Object(p.jsx)(i.b,{className:Y.a.superherosTitle,to:{pathname:"/superheros/".concat(t),state:{from:s}},children:a}),Object(p.jsx)(I.a,{className:Y.a.button,"aria-label":"delete",size:"small",onClick:function(){S(t)},children:Object(p.jsx)(z.a,{})})]},t)}))}),w>=6&&Object(p.jsx)(K,{itemsPerPage:5,totalDocs:w,requestedPage:function(e){x(e)}})]})},G=a(25),Q=a.n(G),U=function(e){var t=Object(n.useState)(e.data.nickname),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(e.data.real_name),i=Object(b.a)(c,2),u=i[0],l=i[1],d=Object(n.useState)(e.data.origin_description),h=Object(b.a)(d,2),O=h[0],f=h[1],x=Object(n.useState)(e.data.superpowers),_=Object(b.a)(x,2),v=_[0],g=_[1],w=Object(n.useState)(e.data.catch_phrase),k=Object(b.a)(w,2),S=k[0],y=k[1],N=Object(o.h)().superheroId;Object(n.useEffect)((function(){return window.addEventListener("keydown",E),function(){window.removeEventListener("keydown",E)}}),[]);var C=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"nickname":s(n);break;case"real_name":l(n);break;case"origin_description":f(n);break;case"superpowers":g(n);break;case"catch_phrase":y(n)}},E=function(t){"Escape"===t.code&&e.closeModal()},D=function(){var t=Object(j.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={nickname:r,real_name:u,origin_description:O,superpowers:v,catch_phrase:S},t.next=4,M(N,n);case 4:200===t.sent.status&&e.closeModal("ok");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsx)("div",{className:Q.a.Overlay,onClick:function(t){t.target===t.currentTarget&&e.closeModal()},children:Object(p.jsx)("div",{className:Q.a.Modal,children:Object(p.jsxs)("form",{className:Q.a.Form,onSubmit:D,noValidate:!0,autoComplete:"off",children:[Object(p.jsx)(F.a,{className:Q.a.TextField,onChange:C,name:"nickname",type:"text",value:r,size:"small",label:"Nickname",variant:"outlined"}),Object(p.jsx)(F.a,{className:Q.a.TextField,onChange:C,name:"real_name",type:"text",value:u,size:"small",label:"RealName",variant:"outlined"}),Object(p.jsx)(F.a,{className:Q.a.TextField,onChange:C,multiline:!0,name:"origin_description",type:"text",value:O,size:"small",label:"Origin Description",variant:"outlined"}),Object(p.jsx)(F.a,{className:Q.a.TextField,onChange:C,multiline:!0,name:"superpowers",type:"text",value:v,size:"small",label:"Superpowers",variant:"outlined"}),Object(p.jsx)(F.a,{className:Q.a.TextField,onChange:C,multiline:!0,name:"catch_phrase",type:"text",value:S,size:"small",label:"Catch Phrase",variant:"outlined"}),Object(p.jsx)(T.a,{className:Q.a.submitButton,type:"submit",size:"small",variant:"contained",children:"Edit Superhero"})]})})})},X=a(43),Z=a.n(X),W=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),c=Object(b.a)(s,2),i=c[0],u=c[1],l=Object(o.h)().superheroId,d=Object(o.g)().state,h=Object(o.f)();Object(n.useEffect)((function(){g(l).then((function(e){return r(e)}))}),[l]);return Object(p.jsxs)("div",{className:Z.a.heroDetails,children:[Object(p.jsx)("button",{className:Z.a.goBackBtn,type:"button",onClick:function(){(null===d||void 0===d?void 0:d.from.pathname)?h.push(d.from.pathname):h.push("/"),(null===d||void 0===d?void 0:d.from.search)&&h.push({search:d.from.search})},children:"Go back"}),Object(p.jsx)(E,{onClick:function(){u(!0)},text:"Edit Superhero"}),i&&Object(p.jsx)(U,{closeModal:function(e){u(!1),e&&g(l).then((function(e){return r(e)}))},data:a}),a&&Object(p.jsxs)("section",{className:Z.a.section,children:[Object(p.jsx)("ul",{className:Z.a.imageList,children:0!==a.images.length?a.images.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)("img",{src:e,alt:a.name,height:"200px"})},e)})):Object(p.jsx)("li",{children:Object(p.jsx)("img",{src:"https://www.samatters.com/wp-content/uploads/2017/04/Super-Hero-300x286.png",alt:a.name,height:"200px"})})}),a.nickname&&Object(p.jsxs)("p",{children:["Nickname: ",a.nickname]}),a.real_name&&Object(p.jsxs)("p",{children:["Real name: ",a.real_name]}),a.origin_description&&Object(p.jsxs)("p",{children:["Origin Description: ",a.origin_description]}),a.superpowers&&Object(p.jsxs)("p",{children:["Superpowers: ",a.superpowers]}),a.catch_phrase&&Object(p.jsxs)("p",{children:["Catch phrase: ",a.catch_phrase]})]})]})},$=function(){return Object(p.jsx)(d,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/",exact:!0,children:Object(p.jsx)(q,{})}),Object(p.jsx)(o.a,{path:"/superheros/:superheroId",children:Object(p.jsx)(W,{})})]})})};a(121),a(122);c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(i.a,{children:Object(p.jsx)($,{})})}),document.getElementById("root"))},23:function(e,t,a){e.exports={Overlay:"AddSuperheroModal_Overlay__2mM47",Modal:"AddSuperheroModal_Modal__-dm62",Form:"AddSuperheroModal_Form__a_2Mo",TextField:"AddSuperheroModal_TextField__3tc3h",input:"AddSuperheroModal_input__2EkcK",submitButton:"AddSuperheroModal_submitButton__3Y0af",fileInput:"AddSuperheroModal_fileInput__1Kkgh"}},25:function(e,t,a){e.exports={Overlay:"EditSuperheroModal_Overlay__3yIsO",Modal:"EditSuperheroModal_Modal__2LE9T",Form:"EditSuperheroModal_Form__25373",TextField:"EditSuperheroModal_TextField__1gm7C",input:"EditSuperheroModal_input__2Tnw7",submitButton:"EditSuperheroModal_submitButton__3RR_D"}},33:function(e,t,a){e.exports={superherosSection:"HomeView_superherosSection__3X0dI",superherosList:"HomeView_superherosList__2hlSt",superherosImage:"HomeView_superherosImage__TDFYQ",superherosTitle:"HomeView_superherosTitle__3CTEH",button:"HomeView_button__1MIU1"}},43:function(e,t,a){e.exports={heroDetails:"HeroDetailsView_heroDetails__2OVn-",goBackBtn:"HeroDetailsView_goBackBtn__1oKpj",section:"HeroDetailsView_section__eVDvG",imageList:"HeroDetailsView_imageList__P2EY3"}},66:function(e,t,a){e.exports={container:"Container_container__3rrad"}},72:function(e,t,a){e.exports={pagination:"Pagination_pagination__1kpDJ",items:"Pagination_items__jKByB",selected:"Pagination_selected__1_P3n",active:"Pagination_active__10KJY"}}},[[123,1,2]]]);
//# sourceMappingURL=main.6de96cad.chunk.js.map